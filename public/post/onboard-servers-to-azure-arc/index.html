<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>How to onboard server to Azure Arc - My blog</title>
  <meta name="description" content="Onboarding Windows servers to Azure Arc allows you to manage your on-premises and edge Windows servers using the same Azure portal and tools that you use for cloud-based servers.">
  <meta name="author" content="Viggo stomsvik"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "My blog",
    
    "url": "http:\/\/localhost:1313\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "http:\/\/localhost:1313\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "http:\/\/localhost:1313\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "http:\/\/localhost:1313\/post\/onboard-servers-to-azure-arc\/",
          "name": "How to onboard server to azure arc"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Viggo stomsvik"
  },
  "headline": "How to onboard server to Azure Arc",
  "description" : "Onboarding Windows servers to Azure Arc allows you to manage your on-premises and edge Windows servers using the same Azure portal and tools that you use for cloud-based servers.",
  "inLanguage" : "en",
  "wordCount":  707 ,
  "datePublished" : "2022-12-17T12:09:53",
  "dateModified" : "2022-12-17T12:09:53",
  "image" : "http:\/\/localhost:1313\/img\/avatar-icon.png",
  "keywords" : [ "Defender, Install, Security, Server, Microsoft" ],
  "mainEntityOfPage" : "http:\/\/localhost:1313\/post\/onboard-servers-to-azure-arc\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "http:\/\/localhost:1313\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "http:\/\/localhost:1313\/img\/avatar-icon.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="How to onboard server to Azure Arc" />
<meta property="og:description" content="Onboarding Windows servers to Azure Arc allows you to manage your on-premises and edge Windows servers using the same Azure portal and tools that you use for cloud-based servers.">
<meta property="og:image" content="http://localhost:1313/img/avatar-icon.png" />
<meta property="og:url" content="http://localhost:1313/post/onboard-servers-to-azure-arc/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="My blog" />

  <meta name="twitter:title" content="How to onboard server to Azure Arc" />
  <meta name="twitter:description" content="Onboarding Windows servers to Azure Arc allows you to manage your on-premises and edge Windows servers using the same Azure portal and tools that you use for cloud-based servers.">
  <meta name="twitter:image" content="http://localhost:1313/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@stoms" />
  <meta name="twitter:creator" content="@stoms" />
  <link href='http://localhost:1313/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.131.0">
  <link rel="alternate" href="http://localhost:1313/index.xml" type="application/rss+xml" title="My blog"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="http://localhost:1313/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="http://localhost:1313/css/highlight.min.css" /><link rel="stylesheet" href="http://localhost:1313/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">

  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://localhost:1313/">My blog</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Home" href="/">Home</a>
            </li>
          
        
          
            <li>
              <a title="Posts" href="/post/">Posts</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/about/">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="My blog" href="http://localhost:1313/">
            <img class="avatar-img" src="http://localhost:1313/img/avatar-icon.png" alt="My blog" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>How to onboard server to Azure Arc</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on December 17, 2022
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;4&nbsp;minutes
  
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Viggo stomsvik
    
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Onboarding Windows servers to Azure Arc allows you to manage your on-premises and edge Windows servers using the same Azure portal and tools that you use for cloud-based servers. In this blog post, we will outline the steps to onboard your Windows servers to Azure Arc.</p>
<h4 id="before-you-begin-you-need-to-have-the-following">Before you begin, you need to have the following:</h4>
<ul>
<li>An Azure account</li>
<li>An Azure subscription</li>
<li>Access to the servers you want to onboard</li>
</ul>
<h4 id="to-use-azure-arc-on-windows-servers-the-following-requirements-must-be-met">To use Azure Arc on Windows servers, the following requirements must be met:</h4>
<ul>
<li>Windows Server version: Azure Arc currently supports Windows Server 2016 and later versions.</li>
<li>Azure Arc agent: The Azure Arc agent must be installed on the Windows server.</li>
<li>Networking: The Windows server must have internet connectivity to be able to communicate with Azure services.</li>
<li>Azure subscription: You need an Azure subscription to use Azure Arc.</li>
<li>Permissions: You must have the necessary permissions to register the Windows server with Azure Arc and manage it using Azure tools.</li>
</ul>
<p>In addition to the above requirements, there may be additional requirements depending on the specific Azure Arc features you want to use. For example, to use Azure Arc enabled Kubernetes, you need to have the Kubernetes CLI (kubectl) installed on the Windows server.</p>
<h3 id="step-1-install-the-azure-arc-agent">Step 1: Install the Azure Arc agent</h3>
<p>To onboard your Windows servers to Azure Arc, you need to install the Azure Arc agent on each of the servers you want to manage. You can download the Azure Arc agent from the Azure portal or use the following PowerShell command to install it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="nb">Invoke-WebRequest</span> <span class="n">-Uri</span> <span class="n">https</span><span class="err">:</span><span class="p">//</span><span class="n">aka</span><span class="p">.</span><span class="n">ms</span><span class="p">/</span><span class="n">installazurearc</span> <span class="p">|</span> <span class="nb">Invoke-Expression</span>
</span></span></code></pre></div><h3 id="step-2-register-the-servers-with-azure-arc">Step 2: Register the servers with Azure Arc</h3>
<p>Once the Azure Arc agent is installed, you need to register the servers with Azure Arc. To do this, go to the Azure portal and navigate to the Azure Arc dashboard. Click on the &ldquo;Add&rdquo; button to add a new server. You will be prompted to enter the FQDN (fully qualified domain name) or the IP address of the server, as well as the login credentials.</p>
<h3 id="step-3-assign-tags-and-resource-groups-to-the-servers">Step 3: Assign tags and resource groups to the servers</h3>
<p>After the server is registered with Azure Arc, you can assign tags and resource groups to it to help with organization and management. To do this, select the server in the Azure Arc dashboard and click on the &ldquo;Edit&rdquo; button. You can then add tags and assign the server to a resource group.</p>
<h3 id="step-4-manage-the-servers">Step 4: Manage the servers</h3>
<p>Once your Windows servers are onboarded to Azure Arc, you can manage them using the same tools and processes you use for managing cloud-based servers in Azure. This includes the ability to deploy Azure policies, run Azure Arc enabled Kubernetes, and use Azure Monitor to track the performance and health of your servers.</p>
<p>In summary, onboarding Windows servers to Azure Arc allows you to manage your on-premises and edge Windows servers using the same Azure tools and processes you use for cloud-based servers. By installing the Azure Arc agent, registering the servers with Azure Arc, assigning tags and resource groups, and using Azure tools to manage the servers, you can streamline the management of your hybrid infrastructure.</p>
<h3 id="how-to-offboard-the-server-form-azure-arc">How to offboard the server form Azure Arc</h3>
<p>To offboard a Windows server from Azure Arc, you can follow these steps:</p>
<ul>
<li>Navigate to the Azure Arc dashboard in the Azure portal.</li>
<li>Select the Windows server you want to offboard from the list of servers.</li>
<li>Click on the &ldquo;More actions&rdquo; button and select &ldquo;Delete&rdquo; from the dropdown menu.</li>
<li>Confirm the deletion by clicking on the &ldquo;Delete&rdquo; button.</li>
</ul>
<p>Note that offboarding a Windows server from Azure Arc will not delete the server itself, but it will remove the server from Azure Arc management. The server will no longer be visible in the Azure Arc dashboard and you will not be able to use Azure tools to manage it.</p>
<p>Alternatively, you can use the following Azure CLI command to offboard a Windows server from Azure Arc:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">az resource delete --resource-type Microsoft.HybridCompute/machines --name &lt;server-name&gt; --resource-group &lt;resource-group&gt;
</span></span></code></pre></div><p>Replace server-name with the name of the Windows server and resource-group with the name of the resource group the server belongs to.</p>
<p>Offboarding a Windows server from Azure Arc is a one-way process and cannot be undone. Make sure you really want to offboard the server before you proceed.</p>


        
          <div class="blog-tags">
            
              <a href="http://localhost:1313//tags/defender/">Defender</a>&nbsp;
            
              <a href="http://localhost:1313//tags/install/">Install</a>&nbsp;
            
              <a href="http://localhost:1313//tags/security/">Security</a>&nbsp;
            
              <a href="http://localhost:1313//tags/server/">Server</a>&nbsp;
            
              <a href="http://localhost:1313//tags/microsoft/">Microsoft</a>&nbsp;
            
          </div>
        

        

        
          
            
          

          
                  <h4 class="see-also">See also</h4>
                  <ul>
                
                
                    <li><a href="/post/migrate-to-cloud-sync/">Migrate Azure AD Connect to Cloud Sync</a></li>
                
                    <li><a href="/post/defender-part2/">Defender For Server - Onboarding</a></li>
                
                    <li><a href="/post/defender-for-server-licensing/">Defender For Server - Licesning</a></li>
                
                    <li><a href="/post/install-defender-for-server/">Install Defender For Server the modern unified solution</a></li>
                
                    <li><a href="/post/how-to-create-azcopy-container-and-automate-run-in-azure/">How to Create Azcopy Container and Automate Run in Azure</a></li>
                
              </ul>

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="http://localhost:1313/post/defender-part2/" data-toggle="tooltip" data-placement="top" title="Defender For Server - Onboarding">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="http://localhost:1313/post/migrate-to-cloud-sync/" data-toggle="tooltip" data-placement="top" title="Migrate Azure AD Connect to Cloud Sync">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:vstoms@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/vstoms" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/stoms" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://blog.stomsvik.com">Viggo stomsvik</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2024
          

          
            &nbsp;&bull;&nbsp;
            <a href="http://localhost:1313/">My blog</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.131.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="http://localhost:1313/js/main.js"></script>
<script src="http://localhost:1313/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="http://localhost:1313/js/load-photoswipe.js"></script>









    
  </body>
</html>

